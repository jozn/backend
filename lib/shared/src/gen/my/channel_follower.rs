// DO NOT MODIFY AUTO-GENERATED BY PB-WALKER
use mysql_async::prelude::*;
use mysql_async::{FromRowError, OptsBuilder, Params, Row, Pool};
use mysql_common::row::ColumnIndex;

use mysql_common::value::Value;
use crate::mysql_common::*;

#[derive(Default, Clone, PartialEq, Eq, Debug)]
pub struct ChannelFollower  { // channel_follower
    pub profile_cid: u32,
    pub channel_cid: u32,
    pub created_time: u32,
    pub follow_id: u32,
}

impl FromRow for ChannelFollower {
    fn from_row_opt(row: Row) -> Result<Self, FromRowError>
    where
        Self: Sized,
    {
        Ok(ChannelFollower  {
            profile_cid: row.get(0).unwrap_or_default(),
            channel_cid: row.get(1).unwrap_or_default(),
            created_time: row.get(2).unwrap_or_default(),
            follow_id: row.get(3).unwrap_or_default(),
        })
    }
}

impl ChannelFollower {
    pub async fn insert(&self, spool: &SPool) -> Result<ChannelFollower,MyError> {
        let mut conn = spool.pool.get_conn().await?;

        let query = format!(r"INSERT INTO {:}.channel_follower (profile_cid, channel_cid, created_time) VALUES (?, ?, ?)",&spool.database);
        let p = Params::Positional(vec![self.profile_cid.clone().into(), self.channel_cid.clone().into(), self.created_time.clone().into()]);

        let qr = conn.exec_iter(
            query, p
        ).await?;

        let mut cp = self.clone();
        cp.follow_id = qr.last_insert_id().unwrap() as u32;
        Ok(cp)
    }


    // [[ for template: this code is copy of insert with 'insert' changed to 'replace' ]]
    pub async fn replace(&self, spool: &SPool) -> Result<ChannelFollower,MyError> {
        let mut conn = spool.pool.get_conn().await?;

        let query = format!(r"REPLACE INTO {:}.channel_follower (profile_cid, channel_cid, created_time) VALUES (?, ?, ?)",&spool.database);
        let p = Params::Positional(vec![self.profile_cid.clone().into(), self.channel_cid.clone().into(), self.created_time.clone().into()]);

        let qr = conn.exec_iter(
            query, p
        ).await?;

        let mut cp = self.clone();
        cp.follow_id = qr.last_insert_id().unwrap() as u32;
        Ok(cp)
    }


    pub async fn update(&self, spool: &SPool) -> Result<(),MyError> {
        let mut conn = spool.pool.get_conn().await?;
        let query = format!(r"UPDATE `{:}`.channel_follower` SET created_time = ?, follow_id = ? WHERE profile_cid = ? AND channel_cid = ? ", &spool.database);
        let p = Params::Positional(vec![self.created_time.clone().into(), self.follow_id.clone().into(),  self.profile_cid.clone().into(), self.channel_cid.clone().into() ]);

        let qr = conn.exec_iter(
            query, p
        ).await?;

        Ok(())
    }

    pub async fn delete(&self, spool: &SPool) -> Result<(),MyError> {
        let mut conn = spool.pool.get_conn().await?;

        let query = format!(r"DELETE FROM `{:}`.channel_follower` WHERE profile_cid = ? AND channel_cid = ? ", &spool.database);
        let p = Params::Positional(vec![self.profile_cid.clone().into(), self.channel_cid.clone().into()]);

        conn.exec_drop(
            query, p
        ).await?;

        Ok(())
    }
}


#[derive(Default, Debug)]
pub struct ChannelFollowerSelector {
    q: TQuery
}

impl ChannelFollowerSelector {
    pub fn new() -> Self {
        ChannelFollowerSelector{
            q: TQuery{
                table: "channel_follower",
                ..Default::default()
            }
        }
    }

    pub fn limit(&mut self, size: u32) -> &mut Self {
        self.q.limit = size;
        self
    }

    pub fn offset(&mut self, size: u32) -> &mut Self {
        self.q.offset = size;
        self
    }

    pub fn select_all(&mut self) -> &mut Self {
        // Default is select *
        self
    }

    //each column select
    pub fn select_profile_cid(&mut self) -> &mut Self {
        self.q.select_cols.push("profile_cid");
        self
    }
    
    pub fn select_channel_cid(&mut self) -> &mut Self {
        self.q.select_cols.push("channel_cid");
        self
    }
    
    pub fn select_created_time(&mut self) -> &mut Self {
        self.q.select_cols.push("created_time");
        self
    }
    
    pub fn select_follow_id(&mut self) -> &mut Self {
        self.q.select_cols.push("follow_id");
        self
    }
    

    pub async fn _get_rows_with_size(&mut self, session: &SPool, size: i64) -> Result<Vec<ChannelFollower>, MyError>   {
        let mut conn = session.pool.get_conn().await?;
        let(cql_query, query_values) = self.q._to_sql_selector(&session.database);

        println!("{} - {:?}", &cql_query, &query_values);

        let p = Params::Positional(query_values);

        let query_result = conn
            .exec_map(
                cql_query,p,
                |obj: ChannelFollower| obj
            ).await?;

        Ok(query_result)
    }

    pub async fn get_rows(&mut self, session: &SPool) -> Result<Vec<ChannelFollower>, MyError>{
        self._get_rows_with_size(session,-1).await
    }

    pub async fn get_row(&mut self, session: &SPool) -> Result<ChannelFollower, MyError>{
        let rows = self._get_rows_with_size(session,1).await?;

        let opt = rows.get(0);
        match opt {
            Some(row) => Ok(row.to_owned()),
            None => Err(MyError::NotFound)
        }
    }

    // Modifiers
    
    pub fn order_by_profile_cid_asc(&mut self) -> &mut Self {
		self.q.order_by.push("profile_cid ASC");
        self
    }

	pub fn order_by_profile_cid_desc(&mut self) -> &mut Self {
		self.q.order_by.push("profile_cid DESC");
        self
    }

    pub fn order_by_channel_cid_asc(&mut self) -> &mut Self {
		self.q.order_by.push("channel_cid ASC");
        self
    }

	pub fn order_by_channel_cid_desc(&mut self) -> &mut Self {
		self.q.order_by.push("channel_cid DESC");
        self
    }

    pub fn order_by_created_time_asc(&mut self) -> &mut Self {
		self.q.order_by.push("created_time ASC");
        self
    }

	pub fn order_by_created_time_desc(&mut self) -> &mut Self {
		self.q.order_by.push("created_time DESC");
        self
    }

    pub fn order_by_follow_id_asc(&mut self) -> &mut Self {
		self.q.order_by.push("follow_id ASC");
        self
    }

	pub fn order_by_follow_id_desc(&mut self) -> &mut Self {
		self.q.order_by.push("follow_id DESC");
        self
    }

    
    pub fn profile_cid_eq (&mut self, val: u32 ) -> &mut Self {
        let w = WhereClause{
            condition: " profile_cid = ?".to_string(),
            args: val.into(),
        };
        self.q.wheres.push(w);
        self
    }

    pub fn profile_cid_lt (&mut self, val: u32 ) -> &mut Self {
        let w = WhereClause{
            condition: " profile_cid < ?".to_string(),
            args: val.into(),
        };
        self.q.wheres.push(w);
        self
    }

    pub fn profile_cid_le (&mut self, val: u32 ) -> &mut Self {
        let w = WhereClause{
            condition: " profile_cid <= ?".to_string(),
            args: val.into(),
        };
        self.q.wheres.push(w);
        self
    }

    pub fn profile_cid_gt (&mut self, val: u32 ) -> &mut Self {
        let w = WhereClause{
            condition: " profile_cid > ?".to_string(),
            args: val.into(),
        };
        self.q.wheres.push(w);
        self
    }

    pub fn profile_cid_ge (&mut self, val: u32 ) -> &mut Self {
        let w = WhereClause{
            condition: " profile_cid >= ?".to_string(),
            args: val.into(),
        };
        self.q.wheres.push(w);
        self
    }

    pub fn and_profile_cid_eq (&mut self, val: u32 ) -> &mut Self {
        let w = WhereClause{
            condition: "AND profile_cid = ?".to_string(),
            args: val.into(),
        };
        self.q.wheres.push(w);
        self
    }

    pub fn and_profile_cid_lt (&mut self, val: u32 ) -> &mut Self {
        let w = WhereClause{
            condition: "AND profile_cid < ?".to_string(),
            args: val.into(),
        };
        self.q.wheres.push(w);
        self
    }

    pub fn and_profile_cid_le (&mut self, val: u32 ) -> &mut Self {
        let w = WhereClause{
            condition: "AND profile_cid <= ?".to_string(),
            args: val.into(),
        };
        self.q.wheres.push(w);
        self
    }

    pub fn and_profile_cid_gt (&mut self, val: u32 ) -> &mut Self {
        let w = WhereClause{
            condition: "AND profile_cid > ?".to_string(),
            args: val.into(),
        };
        self.q.wheres.push(w);
        self
    }

    pub fn and_profile_cid_ge (&mut self, val: u32 ) -> &mut Self {
        let w = WhereClause{
            condition: "AND profile_cid >= ?".to_string(),
            args: val.into(),
        };
        self.q.wheres.push(w);
        self
    }

    pub fn or_profile_cid_eq (&mut self, val: u32 ) -> &mut Self {
        let w = WhereClause{
            condition: "OR profile_cid = ?".to_string(),
            args: val.into(),
        };
        self.q.wheres.push(w);
        self
    }

    pub fn or_profile_cid_lt (&mut self, val: u32 ) -> &mut Self {
        let w = WhereClause{
            condition: "OR profile_cid < ?".to_string(),
            args: val.into(),
        };
        self.q.wheres.push(w);
        self
    }

    pub fn or_profile_cid_le (&mut self, val: u32 ) -> &mut Self {
        let w = WhereClause{
            condition: "OR profile_cid <= ?".to_string(),
            args: val.into(),
        };
        self.q.wheres.push(w);
        self
    }

    pub fn or_profile_cid_gt (&mut self, val: u32 ) -> &mut Self {
        let w = WhereClause{
            condition: "OR profile_cid > ?".to_string(),
            args: val.into(),
        };
        self.q.wheres.push(w);
        self
    }

    pub fn or_profile_cid_ge (&mut self, val: u32 ) -> &mut Self {
        let w = WhereClause{
            condition: "OR profile_cid >= ?".to_string(),
            args: val.into(),
        };
        self.q.wheres.push(w);
        self
    }

    pub fn channel_cid_eq (&mut self, val: u32 ) -> &mut Self {
        let w = WhereClause{
            condition: " channel_cid = ?".to_string(),
            args: val.into(),
        };
        self.q.wheres.push(w);
        self
    }

    pub fn channel_cid_lt (&mut self, val: u32 ) -> &mut Self {
        let w = WhereClause{
            condition: " channel_cid < ?".to_string(),
            args: val.into(),
        };
        self.q.wheres.push(w);
        self
    }

    pub fn channel_cid_le (&mut self, val: u32 ) -> &mut Self {
        let w = WhereClause{
            condition: " channel_cid <= ?".to_string(),
            args: val.into(),
        };
        self.q.wheres.push(w);
        self
    }

    pub fn channel_cid_gt (&mut self, val: u32 ) -> &mut Self {
        let w = WhereClause{
            condition: " channel_cid > ?".to_string(),
            args: val.into(),
        };
        self.q.wheres.push(w);
        self
    }

    pub fn channel_cid_ge (&mut self, val: u32 ) -> &mut Self {
        let w = WhereClause{
            condition: " channel_cid >= ?".to_string(),
            args: val.into(),
        };
        self.q.wheres.push(w);
        self
    }

    pub fn and_channel_cid_eq (&mut self, val: u32 ) -> &mut Self {
        let w = WhereClause{
            condition: "AND channel_cid = ?".to_string(),
            args: val.into(),
        };
        self.q.wheres.push(w);
        self
    }

    pub fn and_channel_cid_lt (&mut self, val: u32 ) -> &mut Self {
        let w = WhereClause{
            condition: "AND channel_cid < ?".to_string(),
            args: val.into(),
        };
        self.q.wheres.push(w);
        self
    }

    pub fn and_channel_cid_le (&mut self, val: u32 ) -> &mut Self {
        let w = WhereClause{
            condition: "AND channel_cid <= ?".to_string(),
            args: val.into(),
        };
        self.q.wheres.push(w);
        self
    }

    pub fn and_channel_cid_gt (&mut self, val: u32 ) -> &mut Self {
        let w = WhereClause{
            condition: "AND channel_cid > ?".to_string(),
            args: val.into(),
        };
        self.q.wheres.push(w);
        self
    }

    pub fn and_channel_cid_ge (&mut self, val: u32 ) -> &mut Self {
        let w = WhereClause{
            condition: "AND channel_cid >= ?".to_string(),
            args: val.into(),
        };
        self.q.wheres.push(w);
        self
    }

    pub fn or_channel_cid_eq (&mut self, val: u32 ) -> &mut Self {
        let w = WhereClause{
            condition: "OR channel_cid = ?".to_string(),
            args: val.into(),
        };
        self.q.wheres.push(w);
        self
    }

    pub fn or_channel_cid_lt (&mut self, val: u32 ) -> &mut Self {
        let w = WhereClause{
            condition: "OR channel_cid < ?".to_string(),
            args: val.into(),
        };
        self.q.wheres.push(w);
        self
    }

    pub fn or_channel_cid_le (&mut self, val: u32 ) -> &mut Self {
        let w = WhereClause{
            condition: "OR channel_cid <= ?".to_string(),
            args: val.into(),
        };
        self.q.wheres.push(w);
        self
    }

    pub fn or_channel_cid_gt (&mut self, val: u32 ) -> &mut Self {
        let w = WhereClause{
            condition: "OR channel_cid > ?".to_string(),
            args: val.into(),
        };
        self.q.wheres.push(w);
        self
    }

    pub fn or_channel_cid_ge (&mut self, val: u32 ) -> &mut Self {
        let w = WhereClause{
            condition: "OR channel_cid >= ?".to_string(),
            args: val.into(),
        };
        self.q.wheres.push(w);
        self
    }

    pub fn created_time_eq (&mut self, val: u32 ) -> &mut Self {
        let w = WhereClause{
            condition: " created_time = ?".to_string(),
            args: val.into(),
        };
        self.q.wheres.push(w);
        self
    }

    pub fn created_time_lt (&mut self, val: u32 ) -> &mut Self {
        let w = WhereClause{
            condition: " created_time < ?".to_string(),
            args: val.into(),
        };
        self.q.wheres.push(w);
        self
    }

    pub fn created_time_le (&mut self, val: u32 ) -> &mut Self {
        let w = WhereClause{
            condition: " created_time <= ?".to_string(),
            args: val.into(),
        };
        self.q.wheres.push(w);
        self
    }

    pub fn created_time_gt (&mut self, val: u32 ) -> &mut Self {
        let w = WhereClause{
            condition: " created_time > ?".to_string(),
            args: val.into(),
        };
        self.q.wheres.push(w);
        self
    }

    pub fn created_time_ge (&mut self, val: u32 ) -> &mut Self {
        let w = WhereClause{
            condition: " created_time >= ?".to_string(),
            args: val.into(),
        };
        self.q.wheres.push(w);
        self
    }

    pub fn and_created_time_eq (&mut self, val: u32 ) -> &mut Self {
        let w = WhereClause{
            condition: "AND created_time = ?".to_string(),
            args: val.into(),
        };
        self.q.wheres.push(w);
        self
    }

    pub fn and_created_time_lt (&mut self, val: u32 ) -> &mut Self {
        let w = WhereClause{
            condition: "AND created_time < ?".to_string(),
            args: val.into(),
        };
        self.q.wheres.push(w);
        self
    }

    pub fn and_created_time_le (&mut self, val: u32 ) -> &mut Self {
        let w = WhereClause{
            condition: "AND created_time <= ?".to_string(),
            args: val.into(),
        };
        self.q.wheres.push(w);
        self
    }

    pub fn and_created_time_gt (&mut self, val: u32 ) -> &mut Self {
        let w = WhereClause{
            condition: "AND created_time > ?".to_string(),
            args: val.into(),
        };
        self.q.wheres.push(w);
        self
    }

    pub fn and_created_time_ge (&mut self, val: u32 ) -> &mut Self {
        let w = WhereClause{
            condition: "AND created_time >= ?".to_string(),
            args: val.into(),
        };
        self.q.wheres.push(w);
        self
    }

    pub fn or_created_time_eq (&mut self, val: u32 ) -> &mut Self {
        let w = WhereClause{
            condition: "OR created_time = ?".to_string(),
            args: val.into(),
        };
        self.q.wheres.push(w);
        self
    }

    pub fn or_created_time_lt (&mut self, val: u32 ) -> &mut Self {
        let w = WhereClause{
            condition: "OR created_time < ?".to_string(),
            args: val.into(),
        };
        self.q.wheres.push(w);
        self
    }

    pub fn or_created_time_le (&mut self, val: u32 ) -> &mut Self {
        let w = WhereClause{
            condition: "OR created_time <= ?".to_string(),
            args: val.into(),
        };
        self.q.wheres.push(w);
        self
    }

    pub fn or_created_time_gt (&mut self, val: u32 ) -> &mut Self {
        let w = WhereClause{
            condition: "OR created_time > ?".to_string(),
            args: val.into(),
        };
        self.q.wheres.push(w);
        self
    }

    pub fn or_created_time_ge (&mut self, val: u32 ) -> &mut Self {
        let w = WhereClause{
            condition: "OR created_time >= ?".to_string(),
            args: val.into(),
        };
        self.q.wheres.push(w);
        self
    }

    pub fn follow_id_eq (&mut self, val: u32 ) -> &mut Self {
        let w = WhereClause{
            condition: " follow_id = ?".to_string(),
            args: val.into(),
        };
        self.q.wheres.push(w);
        self
    }

    pub fn follow_id_lt (&mut self, val: u32 ) -> &mut Self {
        let w = WhereClause{
            condition: " follow_id < ?".to_string(),
            args: val.into(),
        };
        self.q.wheres.push(w);
        self
    }

    pub fn follow_id_le (&mut self, val: u32 ) -> &mut Self {
        let w = WhereClause{
            condition: " follow_id <= ?".to_string(),
            args: val.into(),
        };
        self.q.wheres.push(w);
        self
    }

    pub fn follow_id_gt (&mut self, val: u32 ) -> &mut Self {
        let w = WhereClause{
            condition: " follow_id > ?".to_string(),
            args: val.into(),
        };
        self.q.wheres.push(w);
        self
    }

    pub fn follow_id_ge (&mut self, val: u32 ) -> &mut Self {
        let w = WhereClause{
            condition: " follow_id >= ?".to_string(),
            args: val.into(),
        };
        self.q.wheres.push(w);
        self
    }

    pub fn and_follow_id_eq (&mut self, val: u32 ) -> &mut Self {
        let w = WhereClause{
            condition: "AND follow_id = ?".to_string(),
            args: val.into(),
        };
        self.q.wheres.push(w);
        self
    }

    pub fn and_follow_id_lt (&mut self, val: u32 ) -> &mut Self {
        let w = WhereClause{
            condition: "AND follow_id < ?".to_string(),
            args: val.into(),
        };
        self.q.wheres.push(w);
        self
    }

    pub fn and_follow_id_le (&mut self, val: u32 ) -> &mut Self {
        let w = WhereClause{
            condition: "AND follow_id <= ?".to_string(),
            args: val.into(),
        };
        self.q.wheres.push(w);
        self
    }

    pub fn and_follow_id_gt (&mut self, val: u32 ) -> &mut Self {
        let w = WhereClause{
            condition: "AND follow_id > ?".to_string(),
            args: val.into(),
        };
        self.q.wheres.push(w);
        self
    }

    pub fn and_follow_id_ge (&mut self, val: u32 ) -> &mut Self {
        let w = WhereClause{
            condition: "AND follow_id >= ?".to_string(),
            args: val.into(),
        };
        self.q.wheres.push(w);
        self
    }

    pub fn or_follow_id_eq (&mut self, val: u32 ) -> &mut Self {
        let w = WhereClause{
            condition: "OR follow_id = ?".to_string(),
            args: val.into(),
        };
        self.q.wheres.push(w);
        self
    }

    pub fn or_follow_id_lt (&mut self, val: u32 ) -> &mut Self {
        let w = WhereClause{
            condition: "OR follow_id < ?".to_string(),
            args: val.into(),
        };
        self.q.wheres.push(w);
        self
    }

    pub fn or_follow_id_le (&mut self, val: u32 ) -> &mut Self {
        let w = WhereClause{
            condition: "OR follow_id <= ?".to_string(),
            args: val.into(),
        };
        self.q.wheres.push(w);
        self
    }

    pub fn or_follow_id_gt (&mut self, val: u32 ) -> &mut Self {
        let w = WhereClause{
            condition: "OR follow_id > ?".to_string(),
            args: val.into(),
        };
        self.q.wheres.push(w);
        self
    }

    pub fn or_follow_id_ge (&mut self, val: u32 ) -> &mut Self {
        let w = WhereClause{
            condition: "OR follow_id >= ?".to_string(),
            args: val.into(),
        };
        self.q.wheres.push(w);
        self
    }

    
    pub fn profile_cid_in (&mut self, val: Vec<u32> ) -> &mut Self {
		let len = val.len();
        if len == 0 {
            return self
        }

        let mut marks = "?,".repeat(len);
        marks.remove(marks.len()-1);

		let arr = val.iter().map(|v|v.into()).collect();

        let w = WhereInClause{
			condition: format!(" profile_cid IN ({})", marks),
            args: arr,
        };
        self.q.wheres_ins.push(w);
        self
    }

    pub fn and_profile_cid_in (&mut self, val: Vec<u32> ) -> &mut Self {
		let len = val.len();
        if len == 0 {
            return self
        }

        let mut marks = "?,".repeat(len);
        marks.remove(marks.len()-1);

		let arr = val.iter().map(|v|v.into()).collect();

        let w = WhereInClause{
			condition: format!("AND profile_cid IN ({})", marks),
            args: arr,
        };
        self.q.wheres_ins.push(w);
        self
    }

    pub fn or_profile_cid_in (&mut self, val: Vec<u32> ) -> &mut Self {
		let len = val.len();
        if len == 0 {
            return self
        }

        let mut marks = "?,".repeat(len);
        marks.remove(marks.len()-1);

		let arr = val.iter().map(|v|v.into()).collect();

        let w = WhereInClause{
			condition: format!("OR profile_cid IN ({})", marks),
            args: arr,
        };
        self.q.wheres_ins.push(w);
        self
    }

    pub fn channel_cid_in (&mut self, val: Vec<u32> ) -> &mut Self {
		let len = val.len();
        if len == 0 {
            return self
        }

        let mut marks = "?,".repeat(len);
        marks.remove(marks.len()-1);

		let arr = val.iter().map(|v|v.into()).collect();

        let w = WhereInClause{
			condition: format!(" channel_cid IN ({})", marks),
            args: arr,
        };
        self.q.wheres_ins.push(w);
        self
    }

    pub fn and_channel_cid_in (&mut self, val: Vec<u32> ) -> &mut Self {
		let len = val.len();
        if len == 0 {
            return self
        }

        let mut marks = "?,".repeat(len);
        marks.remove(marks.len()-1);

		let arr = val.iter().map(|v|v.into()).collect();

        let w = WhereInClause{
			condition: format!("AND channel_cid IN ({})", marks),
            args: arr,
        };
        self.q.wheres_ins.push(w);
        self
    }

    pub fn or_channel_cid_in (&mut self, val: Vec<u32> ) -> &mut Self {
		let len = val.len();
        if len == 0 {
            return self
        }

        let mut marks = "?,".repeat(len);
        marks.remove(marks.len()-1);

		let arr = val.iter().map(|v|v.into()).collect();

        let w = WhereInClause{
			condition: format!("OR channel_cid IN ({})", marks),
            args: arr,
        };
        self.q.wheres_ins.push(w);
        self
    }

    pub fn created_time_in (&mut self, val: Vec<u32> ) -> &mut Self {
		let len = val.len();
        if len == 0 {
            return self
        }

        let mut marks = "?,".repeat(len);
        marks.remove(marks.len()-1);

		let arr = val.iter().map(|v|v.into()).collect();

        let w = WhereInClause{
			condition: format!(" created_time IN ({})", marks),
            args: arr,
        };
        self.q.wheres_ins.push(w);
        self
    }

    pub fn and_created_time_in (&mut self, val: Vec<u32> ) -> &mut Self {
		let len = val.len();
        if len == 0 {
            return self
        }

        let mut marks = "?,".repeat(len);
        marks.remove(marks.len()-1);

		let arr = val.iter().map(|v|v.into()).collect();

        let w = WhereInClause{
			condition: format!("AND created_time IN ({})", marks),
            args: arr,
        };
        self.q.wheres_ins.push(w);
        self
    }

    pub fn or_created_time_in (&mut self, val: Vec<u32> ) -> &mut Self {
		let len = val.len();
        if len == 0 {
            return self
        }

        let mut marks = "?,".repeat(len);
        marks.remove(marks.len()-1);

		let arr = val.iter().map(|v|v.into()).collect();

        let w = WhereInClause{
			condition: format!("OR created_time IN ({})", marks),
            args: arr,
        };
        self.q.wheres_ins.push(w);
        self
    }

    pub fn follow_id_in (&mut self, val: Vec<u32> ) -> &mut Self {
		let len = val.len();
        if len == 0 {
            return self
        }

        let mut marks = "?,".repeat(len);
        marks.remove(marks.len()-1);

		let arr = val.iter().map(|v|v.into()).collect();

        let w = WhereInClause{
			condition: format!(" follow_id IN ({})", marks),
            args: arr,
        };
        self.q.wheres_ins.push(w);
        self
    }

    pub fn and_follow_id_in (&mut self, val: Vec<u32> ) -> &mut Self {
		let len = val.len();
        if len == 0 {
            return self
        }

        let mut marks = "?,".repeat(len);
        marks.remove(marks.len()-1);

		let arr = val.iter().map(|v|v.into()).collect();

        let w = WhereInClause{
			condition: format!("AND follow_id IN ({})", marks),
            args: arr,
        };
        self.q.wheres_ins.push(w);
        self
    }

    pub fn or_follow_id_in (&mut self, val: Vec<u32> ) -> &mut Self {
		let len = val.len();
        if len == 0 {
            return self
        }

        let mut marks = "?,".repeat(len);
        marks.remove(marks.len()-1);

		let arr = val.iter().map(|v|v.into()).collect();

        let w = WhereInClause{
			condition: format!("OR follow_id IN ({})", marks),
            args: arr,
        };
        self.q.wheres_ins.push(w);
        self
    }

}

// Updater

#[derive(Default, Debug)]
pub struct ChannelFollowerUpdater {
    q: TQuery
}

impl ChannelFollowerUpdater {
    pub fn new() -> Self {
        ChannelFollowerUpdater{
            q: TQuery{
                table: "channel_follower",
                ..Default::default()
            }
        }
    }

    pub fn limit(&mut self, size: u32) -> &mut Self {
        self.q.limit = size;
        self
    }

    //each column delete
    pub fn set_profile_cid(&mut self, val :u32) -> &mut Self {
        self.q.updates.insert("profile_cid",val.into());
        self
    }
    
    pub fn set_channel_cid(&mut self, val :u32) -> &mut Self {
        self.q.updates.insert("channel_cid",val.into());
        self
    }
    
    pub fn set_created_time(&mut self, val :u32) -> &mut Self {
        self.q.updates.insert("created_time",val.into());
        self
    }
    
    pub fn set_follow_id(&mut self, val :u32) -> &mut Self {
        self.q.updates.insert("follow_id",val.into());
        self
    }
    

    pub async fn update(&mut self, session: &SPool) -> Result<(),MyError> {
        update_rows(&self.q, session).await
    }

    
    pub fn order_by_profile_cid_asc(&mut self) -> &mut Self {
		self.q.order_by.push("profile_cid ASC");
        self
    }

	pub fn order_by_profile_cid_desc(&mut self) -> &mut Self {
		self.q.order_by.push("profile_cid DESC");
        self
    }

    pub fn order_by_channel_cid_asc(&mut self) -> &mut Self {
		self.q.order_by.push("channel_cid ASC");
        self
    }

	pub fn order_by_channel_cid_desc(&mut self) -> &mut Self {
		self.q.order_by.push("channel_cid DESC");
        self
    }

    pub fn order_by_created_time_asc(&mut self) -> &mut Self {
		self.q.order_by.push("created_time ASC");
        self
    }

	pub fn order_by_created_time_desc(&mut self) -> &mut Self {
		self.q.order_by.push("created_time DESC");
        self
    }

    pub fn order_by_follow_id_asc(&mut self) -> &mut Self {
		self.q.order_by.push("follow_id ASC");
        self
    }

	pub fn order_by_follow_id_desc(&mut self) -> &mut Self {
		self.q.order_by.push("follow_id DESC");
        self
    }

    
    pub fn profile_cid_eq (&mut self, val: u32 ) -> &mut Self {
        let w = WhereClause{
            condition: " profile_cid = ?".to_string(),
            args: val.into(),
        };
        self.q.wheres.push(w);
        self
    }

    pub fn profile_cid_lt (&mut self, val: u32 ) -> &mut Self {
        let w = WhereClause{
            condition: " profile_cid < ?".to_string(),
            args: val.into(),
        };
        self.q.wheres.push(w);
        self
    }

    pub fn profile_cid_le (&mut self, val: u32 ) -> &mut Self {
        let w = WhereClause{
            condition: " profile_cid <= ?".to_string(),
            args: val.into(),
        };
        self.q.wheres.push(w);
        self
    }

    pub fn profile_cid_gt (&mut self, val: u32 ) -> &mut Self {
        let w = WhereClause{
            condition: " profile_cid > ?".to_string(),
            args: val.into(),
        };
        self.q.wheres.push(w);
        self
    }

    pub fn profile_cid_ge (&mut self, val: u32 ) -> &mut Self {
        let w = WhereClause{
            condition: " profile_cid >= ?".to_string(),
            args: val.into(),
        };
        self.q.wheres.push(w);
        self
    }

    pub fn and_profile_cid_eq (&mut self, val: u32 ) -> &mut Self {
        let w = WhereClause{
            condition: "AND profile_cid = ?".to_string(),
            args: val.into(),
        };
        self.q.wheres.push(w);
        self
    }

    pub fn and_profile_cid_lt (&mut self, val: u32 ) -> &mut Self {
        let w = WhereClause{
            condition: "AND profile_cid < ?".to_string(),
            args: val.into(),
        };
        self.q.wheres.push(w);
        self
    }

    pub fn and_profile_cid_le (&mut self, val: u32 ) -> &mut Self {
        let w = WhereClause{
            condition: "AND profile_cid <= ?".to_string(),
            args: val.into(),
        };
        self.q.wheres.push(w);
        self
    }

    pub fn and_profile_cid_gt (&mut self, val: u32 ) -> &mut Self {
        let w = WhereClause{
            condition: "AND profile_cid > ?".to_string(),
            args: val.into(),
        };
        self.q.wheres.push(w);
        self
    }

    pub fn and_profile_cid_ge (&mut self, val: u32 ) -> &mut Self {
        let w = WhereClause{
            condition: "AND profile_cid >= ?".to_string(),
            args: val.into(),
        };
        self.q.wheres.push(w);
        self
    }

    pub fn or_profile_cid_eq (&mut self, val: u32 ) -> &mut Self {
        let w = WhereClause{
            condition: "OR profile_cid = ?".to_string(),
            args: val.into(),
        };
        self.q.wheres.push(w);
        self
    }

    pub fn or_profile_cid_lt (&mut self, val: u32 ) -> &mut Self {
        let w = WhereClause{
            condition: "OR profile_cid < ?".to_string(),
            args: val.into(),
        };
        self.q.wheres.push(w);
        self
    }

    pub fn or_profile_cid_le (&mut self, val: u32 ) -> &mut Self {
        let w = WhereClause{
            condition: "OR profile_cid <= ?".to_string(),
            args: val.into(),
        };
        self.q.wheres.push(w);
        self
    }

    pub fn or_profile_cid_gt (&mut self, val: u32 ) -> &mut Self {
        let w = WhereClause{
            condition: "OR profile_cid > ?".to_string(),
            args: val.into(),
        };
        self.q.wheres.push(w);
        self
    }

    pub fn or_profile_cid_ge (&mut self, val: u32 ) -> &mut Self {
        let w = WhereClause{
            condition: "OR profile_cid >= ?".to_string(),
            args: val.into(),
        };
        self.q.wheres.push(w);
        self
    }

    pub fn channel_cid_eq (&mut self, val: u32 ) -> &mut Self {
        let w = WhereClause{
            condition: " channel_cid = ?".to_string(),
            args: val.into(),
        };
        self.q.wheres.push(w);
        self
    }

    pub fn channel_cid_lt (&mut self, val: u32 ) -> &mut Self {
        let w = WhereClause{
            condition: " channel_cid < ?".to_string(),
            args: val.into(),
        };
        self.q.wheres.push(w);
        self
    }

    pub fn channel_cid_le (&mut self, val: u32 ) -> &mut Self {
        let w = WhereClause{
            condition: " channel_cid <= ?".to_string(),
            args: val.into(),
        };
        self.q.wheres.push(w);
        self
    }

    pub fn channel_cid_gt (&mut self, val: u32 ) -> &mut Self {
        let w = WhereClause{
            condition: " channel_cid > ?".to_string(),
            args: val.into(),
        };
        self.q.wheres.push(w);
        self
    }

    pub fn channel_cid_ge (&mut self, val: u32 ) -> &mut Self {
        let w = WhereClause{
            condition: " channel_cid >= ?".to_string(),
            args: val.into(),
        };
        self.q.wheres.push(w);
        self
    }

    pub fn and_channel_cid_eq (&mut self, val: u32 ) -> &mut Self {
        let w = WhereClause{
            condition: "AND channel_cid = ?".to_string(),
            args: val.into(),
        };
        self.q.wheres.push(w);
        self
    }

    pub fn and_channel_cid_lt (&mut self, val: u32 ) -> &mut Self {
        let w = WhereClause{
            condition: "AND channel_cid < ?".to_string(),
            args: val.into(),
        };
        self.q.wheres.push(w);
        self
    }

    pub fn and_channel_cid_le (&mut self, val: u32 ) -> &mut Self {
        let w = WhereClause{
            condition: "AND channel_cid <= ?".to_string(),
            args: val.into(),
        };
        self.q.wheres.push(w);
        self
    }

    pub fn and_channel_cid_gt (&mut self, val: u32 ) -> &mut Self {
        let w = WhereClause{
            condition: "AND channel_cid > ?".to_string(),
            args: val.into(),
        };
        self.q.wheres.push(w);
        self
    }

    pub fn and_channel_cid_ge (&mut self, val: u32 ) -> &mut Self {
        let w = WhereClause{
            condition: "AND channel_cid >= ?".to_string(),
            args: val.into(),
        };
        self.q.wheres.push(w);
        self
    }

    pub fn or_channel_cid_eq (&mut self, val: u32 ) -> &mut Self {
        let w = WhereClause{
            condition: "OR channel_cid = ?".to_string(),
            args: val.into(),
        };
        self.q.wheres.push(w);
        self
    }

    pub fn or_channel_cid_lt (&mut self, val: u32 ) -> &mut Self {
        let w = WhereClause{
            condition: "OR channel_cid < ?".to_string(),
            args: val.into(),
        };
        self.q.wheres.push(w);
        self
    }

    pub fn or_channel_cid_le (&mut self, val: u32 ) -> &mut Self {
        let w = WhereClause{
            condition: "OR channel_cid <= ?".to_string(),
            args: val.into(),
        };
        self.q.wheres.push(w);
        self
    }

    pub fn or_channel_cid_gt (&mut self, val: u32 ) -> &mut Self {
        let w = WhereClause{
            condition: "OR channel_cid > ?".to_string(),
            args: val.into(),
        };
        self.q.wheres.push(w);
        self
    }

    pub fn or_channel_cid_ge (&mut self, val: u32 ) -> &mut Self {
        let w = WhereClause{
            condition: "OR channel_cid >= ?".to_string(),
            args: val.into(),
        };
        self.q.wheres.push(w);
        self
    }

    pub fn created_time_eq (&mut self, val: u32 ) -> &mut Self {
        let w = WhereClause{
            condition: " created_time = ?".to_string(),
            args: val.into(),
        };
        self.q.wheres.push(w);
        self
    }

    pub fn created_time_lt (&mut self, val: u32 ) -> &mut Self {
        let w = WhereClause{
            condition: " created_time < ?".to_string(),
            args: val.into(),
        };
        self.q.wheres.push(w);
        self
    }

    pub fn created_time_le (&mut self, val: u32 ) -> &mut Self {
        let w = WhereClause{
            condition: " created_time <= ?".to_string(),
            args: val.into(),
        };
        self.q.wheres.push(w);
        self
    }

    pub fn created_time_gt (&mut self, val: u32 ) -> &mut Self {
        let w = WhereClause{
            condition: " created_time > ?".to_string(),
            args: val.into(),
        };
        self.q.wheres.push(w);
        self
    }

    pub fn created_time_ge (&mut self, val: u32 ) -> &mut Self {
        let w = WhereClause{
            condition: " created_time >= ?".to_string(),
            args: val.into(),
        };
        self.q.wheres.push(w);
        self
    }

    pub fn and_created_time_eq (&mut self, val: u32 ) -> &mut Self {
        let w = WhereClause{
            condition: "AND created_time = ?".to_string(),
            args: val.into(),
        };
        self.q.wheres.push(w);
        self
    }

    pub fn and_created_time_lt (&mut self, val: u32 ) -> &mut Self {
        let w = WhereClause{
            condition: "AND created_time < ?".to_string(),
            args: val.into(),
        };
        self.q.wheres.push(w);
        self
    }

    pub fn and_created_time_le (&mut self, val: u32 ) -> &mut Self {
        let w = WhereClause{
            condition: "AND created_time <= ?".to_string(),
            args: val.into(),
        };
        self.q.wheres.push(w);
        self
    }

    pub fn and_created_time_gt (&mut self, val: u32 ) -> &mut Self {
        let w = WhereClause{
            condition: "AND created_time > ?".to_string(),
            args: val.into(),
        };
        self.q.wheres.push(w);
        self
    }

    pub fn and_created_time_ge (&mut self, val: u32 ) -> &mut Self {
        let w = WhereClause{
            condition: "AND created_time >= ?".to_string(),
            args: val.into(),
        };
        self.q.wheres.push(w);
        self
    }

    pub fn or_created_time_eq (&mut self, val: u32 ) -> &mut Self {
        let w = WhereClause{
            condition: "OR created_time = ?".to_string(),
            args: val.into(),
        };
        self.q.wheres.push(w);
        self
    }

    pub fn or_created_time_lt (&mut self, val: u32 ) -> &mut Self {
        let w = WhereClause{
            condition: "OR created_time < ?".to_string(),
            args: val.into(),
        };
        self.q.wheres.push(w);
        self
    }

    pub fn or_created_time_le (&mut self, val: u32 ) -> &mut Self {
        let w = WhereClause{
            condition: "OR created_time <= ?".to_string(),
            args: val.into(),
        };
        self.q.wheres.push(w);
        self
    }

    pub fn or_created_time_gt (&mut self, val: u32 ) -> &mut Self {
        let w = WhereClause{
            condition: "OR created_time > ?".to_string(),
            args: val.into(),
        };
        self.q.wheres.push(w);
        self
    }

    pub fn or_created_time_ge (&mut self, val: u32 ) -> &mut Self {
        let w = WhereClause{
            condition: "OR created_time >= ?".to_string(),
            args: val.into(),
        };
        self.q.wheres.push(w);
        self
    }

    pub fn follow_id_eq (&mut self, val: u32 ) -> &mut Self {
        let w = WhereClause{
            condition: " follow_id = ?".to_string(),
            args: val.into(),
        };
        self.q.wheres.push(w);
        self
    }

    pub fn follow_id_lt (&mut self, val: u32 ) -> &mut Self {
        let w = WhereClause{
            condition: " follow_id < ?".to_string(),
            args: val.into(),
        };
        self.q.wheres.push(w);
        self
    }

    pub fn follow_id_le (&mut self, val: u32 ) -> &mut Self {
        let w = WhereClause{
            condition: " follow_id <= ?".to_string(),
            args: val.into(),
        };
        self.q.wheres.push(w);
        self
    }

    pub fn follow_id_gt (&mut self, val: u32 ) -> &mut Self {
        let w = WhereClause{
            condition: " follow_id > ?".to_string(),
            args: val.into(),
        };
        self.q.wheres.push(w);
        self
    }

    pub fn follow_id_ge (&mut self, val: u32 ) -> &mut Self {
        let w = WhereClause{
            condition: " follow_id >= ?".to_string(),
            args: val.into(),
        };
        self.q.wheres.push(w);
        self
    }

    pub fn and_follow_id_eq (&mut self, val: u32 ) -> &mut Self {
        let w = WhereClause{
            condition: "AND follow_id = ?".to_string(),
            args: val.into(),
        };
        self.q.wheres.push(w);
        self
    }

    pub fn and_follow_id_lt (&mut self, val: u32 ) -> &mut Self {
        let w = WhereClause{
            condition: "AND follow_id < ?".to_string(),
            args: val.into(),
        };
        self.q.wheres.push(w);
        self
    }

    pub fn and_follow_id_le (&mut self, val: u32 ) -> &mut Self {
        let w = WhereClause{
            condition: "AND follow_id <= ?".to_string(),
            args: val.into(),
        };
        self.q.wheres.push(w);
        self
    }

    pub fn and_follow_id_gt (&mut self, val: u32 ) -> &mut Self {
        let w = WhereClause{
            condition: "AND follow_id > ?".to_string(),
            args: val.into(),
        };
        self.q.wheres.push(w);
        self
    }

    pub fn and_follow_id_ge (&mut self, val: u32 ) -> &mut Self {
        let w = WhereClause{
            condition: "AND follow_id >= ?".to_string(),
            args: val.into(),
        };
        self.q.wheres.push(w);
        self
    }

    pub fn or_follow_id_eq (&mut self, val: u32 ) -> &mut Self {
        let w = WhereClause{
            condition: "OR follow_id = ?".to_string(),
            args: val.into(),
        };
        self.q.wheres.push(w);
        self
    }

    pub fn or_follow_id_lt (&mut self, val: u32 ) -> &mut Self {
        let w = WhereClause{
            condition: "OR follow_id < ?".to_string(),
            args: val.into(),
        };
        self.q.wheres.push(w);
        self
    }

    pub fn or_follow_id_le (&mut self, val: u32 ) -> &mut Self {
        let w = WhereClause{
            condition: "OR follow_id <= ?".to_string(),
            args: val.into(),
        };
        self.q.wheres.push(w);
        self
    }

    pub fn or_follow_id_gt (&mut self, val: u32 ) -> &mut Self {
        let w = WhereClause{
            condition: "OR follow_id > ?".to_string(),
            args: val.into(),
        };
        self.q.wheres.push(w);
        self
    }

    pub fn or_follow_id_ge (&mut self, val: u32 ) -> &mut Self {
        let w = WhereClause{
            condition: "OR follow_id >= ?".to_string(),
            args: val.into(),
        };
        self.q.wheres.push(w);
        self
    }

    
    pub fn profile_cid_in (&mut self, val: Vec<u32> ) -> &mut Self {
		let len = val.len();
        if len == 0 {
            return self
        }

        let mut marks = "?,".repeat(len);
        marks.remove(marks.len()-1);

		let arr = val.iter().map(|v|v.into()).collect();

        let w = WhereInClause{
			condition: format!(" profile_cid IN ({})", marks),
            args: arr,
        };
        self.q.wheres_ins.push(w);
        self
    }

    pub fn and_profile_cid_in (&mut self, val: Vec<u32> ) -> &mut Self {
		let len = val.len();
        if len == 0 {
            return self
        }

        let mut marks = "?,".repeat(len);
        marks.remove(marks.len()-1);

		let arr = val.iter().map(|v|v.into()).collect();

        let w = WhereInClause{
			condition: format!("AND profile_cid IN ({})", marks),
            args: arr,
        };
        self.q.wheres_ins.push(w);
        self
    }

    pub fn or_profile_cid_in (&mut self, val: Vec<u32> ) -> &mut Self {
		let len = val.len();
        if len == 0 {
            return self
        }

        let mut marks = "?,".repeat(len);
        marks.remove(marks.len()-1);

		let arr = val.iter().map(|v|v.into()).collect();

        let w = WhereInClause{
			condition: format!("OR profile_cid IN ({})", marks),
            args: arr,
        };
        self.q.wheres_ins.push(w);
        self
    }

    pub fn channel_cid_in (&mut self, val: Vec<u32> ) -> &mut Self {
		let len = val.len();
        if len == 0 {
            return self
        }

        let mut marks = "?,".repeat(len);
        marks.remove(marks.len()-1);

		let arr = val.iter().map(|v|v.into()).collect();

        let w = WhereInClause{
			condition: format!(" channel_cid IN ({})", marks),
            args: arr,
        };
        self.q.wheres_ins.push(w);
        self
    }

    pub fn and_channel_cid_in (&mut self, val: Vec<u32> ) -> &mut Self {
		let len = val.len();
        if len == 0 {
            return self
        }

        let mut marks = "?,".repeat(len);
        marks.remove(marks.len()-1);

		let arr = val.iter().map(|v|v.into()).collect();

        let w = WhereInClause{
			condition: format!("AND channel_cid IN ({})", marks),
            args: arr,
        };
        self.q.wheres_ins.push(w);
        self
    }

    pub fn or_channel_cid_in (&mut self, val: Vec<u32> ) -> &mut Self {
		let len = val.len();
        if len == 0 {
            return self
        }

        let mut marks = "?,".repeat(len);
        marks.remove(marks.len()-1);

		let arr = val.iter().map(|v|v.into()).collect();

        let w = WhereInClause{
			condition: format!("OR channel_cid IN ({})", marks),
            args: arr,
        };
        self.q.wheres_ins.push(w);
        self
    }

    pub fn created_time_in (&mut self, val: Vec<u32> ) -> &mut Self {
		let len = val.len();
        if len == 0 {
            return self
        }

        let mut marks = "?,".repeat(len);
        marks.remove(marks.len()-1);

		let arr = val.iter().map(|v|v.into()).collect();

        let w = WhereInClause{
			condition: format!(" created_time IN ({})", marks),
            args: arr,
        };
        self.q.wheres_ins.push(w);
        self
    }

    pub fn and_created_time_in (&mut self, val: Vec<u32> ) -> &mut Self {
		let len = val.len();
        if len == 0 {
            return self
        }

        let mut marks = "?,".repeat(len);
        marks.remove(marks.len()-1);

		let arr = val.iter().map(|v|v.into()).collect();

        let w = WhereInClause{
			condition: format!("AND created_time IN ({})", marks),
            args: arr,
        };
        self.q.wheres_ins.push(w);
        self
    }

    pub fn or_created_time_in (&mut self, val: Vec<u32> ) -> &mut Self {
		let len = val.len();
        if len == 0 {
            return self
        }

        let mut marks = "?,".repeat(len);
        marks.remove(marks.len()-1);

		let arr = val.iter().map(|v|v.into()).collect();

        let w = WhereInClause{
			condition: format!("OR created_time IN ({})", marks),
            args: arr,
        };
        self.q.wheres_ins.push(w);
        self
    }

    pub fn follow_id_in (&mut self, val: Vec<u32> ) -> &mut Self {
		let len = val.len();
        if len == 0 {
            return self
        }

        let mut marks = "?,".repeat(len);
        marks.remove(marks.len()-1);

		let arr = val.iter().map(|v|v.into()).collect();

        let w = WhereInClause{
			condition: format!(" follow_id IN ({})", marks),
            args: arr,
        };
        self.q.wheres_ins.push(w);
        self
    }

    pub fn and_follow_id_in (&mut self, val: Vec<u32> ) -> &mut Self {
		let len = val.len();
        if len == 0 {
            return self
        }

        let mut marks = "?,".repeat(len);
        marks.remove(marks.len()-1);

		let arr = val.iter().map(|v|v.into()).collect();

        let w = WhereInClause{
			condition: format!("AND follow_id IN ({})", marks),
            args: arr,
        };
        self.q.wheres_ins.push(w);
        self
    }

    pub fn or_follow_id_in (&mut self, val: Vec<u32> ) -> &mut Self {
		let len = val.len();
        if len == 0 {
            return self
        }

        let mut marks = "?,".repeat(len);
        marks.remove(marks.len()-1);

		let arr = val.iter().map(|v|v.into()).collect();

        let w = WhereInClause{
			condition: format!("OR follow_id IN ({})", marks),
            args: arr,
        };
        self.q.wheres_ins.push(w);
        self
    }

}

// Deleter

#[derive(Default, Debug)]
pub struct ChannelFollowerDeleter {
    q: TQuery
}

impl ChannelFollowerDeleter {
    pub fn new() -> Self {
        ChannelFollowerDeleter{
            q: TQuery{
                table: "channel_follower",
                ..Default::default()
            }
        }
    }

    pub fn limit(&mut self, size: u32) -> &mut Self {
        self.q.limit = size;
        self
    }

    pub async fn delete(&mut self, session: &SPool) -> Result<(),MyError> {
        delete_rows(&self.q, session).await
    }

    
    pub fn order_by_profile_cid_asc(&mut self) -> &mut Self {
		self.q.order_by.push("profile_cid ASC");
        self
    }

	pub fn order_by_profile_cid_desc(&mut self) -> &mut Self {
		self.q.order_by.push("profile_cid DESC");
        self
    }

    pub fn order_by_channel_cid_asc(&mut self) -> &mut Self {
		self.q.order_by.push("channel_cid ASC");
        self
    }

	pub fn order_by_channel_cid_desc(&mut self) -> &mut Self {
		self.q.order_by.push("channel_cid DESC");
        self
    }

    pub fn order_by_created_time_asc(&mut self) -> &mut Self {
		self.q.order_by.push("created_time ASC");
        self
    }

	pub fn order_by_created_time_desc(&mut self) -> &mut Self {
		self.q.order_by.push("created_time DESC");
        self
    }

    pub fn order_by_follow_id_asc(&mut self) -> &mut Self {
		self.q.order_by.push("follow_id ASC");
        self
    }

	pub fn order_by_follow_id_desc(&mut self) -> &mut Self {
		self.q.order_by.push("follow_id DESC");
        self
    }

    
    pub fn profile_cid_eq (&mut self, val: u32 ) -> &mut Self {
        let w = WhereClause{
            condition: " profile_cid = ?".to_string(),
            args: val.into(),
        };
        self.q.wheres.push(w);
        self
    }

    pub fn profile_cid_lt (&mut self, val: u32 ) -> &mut Self {
        let w = WhereClause{
            condition: " profile_cid < ?".to_string(),
            args: val.into(),
        };
        self.q.wheres.push(w);
        self
    }

    pub fn profile_cid_le (&mut self, val: u32 ) -> &mut Self {
        let w = WhereClause{
            condition: " profile_cid <= ?".to_string(),
            args: val.into(),
        };
        self.q.wheres.push(w);
        self
    }

    pub fn profile_cid_gt (&mut self, val: u32 ) -> &mut Self {
        let w = WhereClause{
            condition: " profile_cid > ?".to_string(),
            args: val.into(),
        };
        self.q.wheres.push(w);
        self
    }

    pub fn profile_cid_ge (&mut self, val: u32 ) -> &mut Self {
        let w = WhereClause{
            condition: " profile_cid >= ?".to_string(),
            args: val.into(),
        };
        self.q.wheres.push(w);
        self
    }

    pub fn and_profile_cid_eq (&mut self, val: u32 ) -> &mut Self {
        let w = WhereClause{
            condition: "AND profile_cid = ?".to_string(),
            args: val.into(),
        };
        self.q.wheres.push(w);
        self
    }

    pub fn and_profile_cid_lt (&mut self, val: u32 ) -> &mut Self {
        let w = WhereClause{
            condition: "AND profile_cid < ?".to_string(),
            args: val.into(),
        };
        self.q.wheres.push(w);
        self
    }

    pub fn and_profile_cid_le (&mut self, val: u32 ) -> &mut Self {
        let w = WhereClause{
            condition: "AND profile_cid <= ?".to_string(),
            args: val.into(),
        };
        self.q.wheres.push(w);
        self
    }

    pub fn and_profile_cid_gt (&mut self, val: u32 ) -> &mut Self {
        let w = WhereClause{
            condition: "AND profile_cid > ?".to_string(),
            args: val.into(),
        };
        self.q.wheres.push(w);
        self
    }

    pub fn and_profile_cid_ge (&mut self, val: u32 ) -> &mut Self {
        let w = WhereClause{
            condition: "AND profile_cid >= ?".to_string(),
            args: val.into(),
        };
        self.q.wheres.push(w);
        self
    }

    pub fn or_profile_cid_eq (&mut self, val: u32 ) -> &mut Self {
        let w = WhereClause{
            condition: "OR profile_cid = ?".to_string(),
            args: val.into(),
        };
        self.q.wheres.push(w);
        self
    }

    pub fn or_profile_cid_lt (&mut self, val: u32 ) -> &mut Self {
        let w = WhereClause{
            condition: "OR profile_cid < ?".to_string(),
            args: val.into(),
        };
        self.q.wheres.push(w);
        self
    }

    pub fn or_profile_cid_le (&mut self, val: u32 ) -> &mut Self {
        let w = WhereClause{
            condition: "OR profile_cid <= ?".to_string(),
            args: val.into(),
        };
        self.q.wheres.push(w);
        self
    }

    pub fn or_profile_cid_gt (&mut self, val: u32 ) -> &mut Self {
        let w = WhereClause{
            condition: "OR profile_cid > ?".to_string(),
            args: val.into(),
        };
        self.q.wheres.push(w);
        self
    }

    pub fn or_profile_cid_ge (&mut self, val: u32 ) -> &mut Self {
        let w = WhereClause{
            condition: "OR profile_cid >= ?".to_string(),
            args: val.into(),
        };
        self.q.wheres.push(w);
        self
    }

    pub fn channel_cid_eq (&mut self, val: u32 ) -> &mut Self {
        let w = WhereClause{
            condition: " channel_cid = ?".to_string(),
            args: val.into(),
        };
        self.q.wheres.push(w);
        self
    }

    pub fn channel_cid_lt (&mut self, val: u32 ) -> &mut Self {
        let w = WhereClause{
            condition: " channel_cid < ?".to_string(),
            args: val.into(),
        };
        self.q.wheres.push(w);
        self
    }

    pub fn channel_cid_le (&mut self, val: u32 ) -> &mut Self {
        let w = WhereClause{
            condition: " channel_cid <= ?".to_string(),
            args: val.into(),
        };
        self.q.wheres.push(w);
        self
    }

    pub fn channel_cid_gt (&mut self, val: u32 ) -> &mut Self {
        let w = WhereClause{
            condition: " channel_cid > ?".to_string(),
            args: val.into(),
        };
        self.q.wheres.push(w);
        self
    }

    pub fn channel_cid_ge (&mut self, val: u32 ) -> &mut Self {
        let w = WhereClause{
            condition: " channel_cid >= ?".to_string(),
            args: val.into(),
        };
        self.q.wheres.push(w);
        self
    }

    pub fn and_channel_cid_eq (&mut self, val: u32 ) -> &mut Self {
        let w = WhereClause{
            condition: "AND channel_cid = ?".to_string(),
            args: val.into(),
        };
        self.q.wheres.push(w);
        self
    }

    pub fn and_channel_cid_lt (&mut self, val: u32 ) -> &mut Self {
        let w = WhereClause{
            condition: "AND channel_cid < ?".to_string(),
            args: val.into(),
        };
        self.q.wheres.push(w);
        self
    }

    pub fn and_channel_cid_le (&mut self, val: u32 ) -> &mut Self {
        let w = WhereClause{
            condition: "AND channel_cid <= ?".to_string(),
            args: val.into(),
        };
        self.q.wheres.push(w);
        self
    }

    pub fn and_channel_cid_gt (&mut self, val: u32 ) -> &mut Self {
        let w = WhereClause{
            condition: "AND channel_cid > ?".to_string(),
            args: val.into(),
        };
        self.q.wheres.push(w);
        self
    }

    pub fn and_channel_cid_ge (&mut self, val: u32 ) -> &mut Self {
        let w = WhereClause{
            condition: "AND channel_cid >= ?".to_string(),
            args: val.into(),
        };
        self.q.wheres.push(w);
        self
    }

    pub fn or_channel_cid_eq (&mut self, val: u32 ) -> &mut Self {
        let w = WhereClause{
            condition: "OR channel_cid = ?".to_string(),
            args: val.into(),
        };
        self.q.wheres.push(w);
        self
    }

    pub fn or_channel_cid_lt (&mut self, val: u32 ) -> &mut Self {
        let w = WhereClause{
            condition: "OR channel_cid < ?".to_string(),
            args: val.into(),
        };
        self.q.wheres.push(w);
        self
    }

    pub fn or_channel_cid_le (&mut self, val: u32 ) -> &mut Self {
        let w = WhereClause{
            condition: "OR channel_cid <= ?".to_string(),
            args: val.into(),
        };
        self.q.wheres.push(w);
        self
    }

    pub fn or_channel_cid_gt (&mut self, val: u32 ) -> &mut Self {
        let w = WhereClause{
            condition: "OR channel_cid > ?".to_string(),
            args: val.into(),
        };
        self.q.wheres.push(w);
        self
    }

    pub fn or_channel_cid_ge (&mut self, val: u32 ) -> &mut Self {
        let w = WhereClause{
            condition: "OR channel_cid >= ?".to_string(),
            args: val.into(),
        };
        self.q.wheres.push(w);
        self
    }

    pub fn created_time_eq (&mut self, val: u32 ) -> &mut Self {
        let w = WhereClause{
            condition: " created_time = ?".to_string(),
            args: val.into(),
        };
        self.q.wheres.push(w);
        self
    }

    pub fn created_time_lt (&mut self, val: u32 ) -> &mut Self {
        let w = WhereClause{
            condition: " created_time < ?".to_string(),
            args: val.into(),
        };
        self.q.wheres.push(w);
        self
    }

    pub fn created_time_le (&mut self, val: u32 ) -> &mut Self {
        let w = WhereClause{
            condition: " created_time <= ?".to_string(),
            args: val.into(),
        };
        self.q.wheres.push(w);
        self
    }

    pub fn created_time_gt (&mut self, val: u32 ) -> &mut Self {
        let w = WhereClause{
            condition: " created_time > ?".to_string(),
            args: val.into(),
        };
        self.q.wheres.push(w);
        self
    }

    pub fn created_time_ge (&mut self, val: u32 ) -> &mut Self {
        let w = WhereClause{
            condition: " created_time >= ?".to_string(),
            args: val.into(),
        };
        self.q.wheres.push(w);
        self
    }

    pub fn and_created_time_eq (&mut self, val: u32 ) -> &mut Self {
        let w = WhereClause{
            condition: "AND created_time = ?".to_string(),
            args: val.into(),
        };
        self.q.wheres.push(w);
        self
    }

    pub fn and_created_time_lt (&mut self, val: u32 ) -> &mut Self {
        let w = WhereClause{
            condition: "AND created_time < ?".to_string(),
            args: val.into(),
        };
        self.q.wheres.push(w);
        self
    }

    pub fn and_created_time_le (&mut self, val: u32 ) -> &mut Self {
        let w = WhereClause{
            condition: "AND created_time <= ?".to_string(),
            args: val.into(),
        };
        self.q.wheres.push(w);
        self
    }

    pub fn and_created_time_gt (&mut self, val: u32 ) -> &mut Self {
        let w = WhereClause{
            condition: "AND created_time > ?".to_string(),
            args: val.into(),
        };
        self.q.wheres.push(w);
        self
    }

    pub fn and_created_time_ge (&mut self, val: u32 ) -> &mut Self {
        let w = WhereClause{
            condition: "AND created_time >= ?".to_string(),
            args: val.into(),
        };
        self.q.wheres.push(w);
        self
    }

    pub fn or_created_time_eq (&mut self, val: u32 ) -> &mut Self {
        let w = WhereClause{
            condition: "OR created_time = ?".to_string(),
            args: val.into(),
        };
        self.q.wheres.push(w);
        self
    }

    pub fn or_created_time_lt (&mut self, val: u32 ) -> &mut Self {
        let w = WhereClause{
            condition: "OR created_time < ?".to_string(),
            args: val.into(),
        };
        self.q.wheres.push(w);
        self
    }

    pub fn or_created_time_le (&mut self, val: u32 ) -> &mut Self {
        let w = WhereClause{
            condition: "OR created_time <= ?".to_string(),
            args: val.into(),
        };
        self.q.wheres.push(w);
        self
    }

    pub fn or_created_time_gt (&mut self, val: u32 ) -> &mut Self {
        let w = WhereClause{
            condition: "OR created_time > ?".to_string(),
            args: val.into(),
        };
        self.q.wheres.push(w);
        self
    }

    pub fn or_created_time_ge (&mut self, val: u32 ) -> &mut Self {
        let w = WhereClause{
            condition: "OR created_time >= ?".to_string(),
            args: val.into(),
        };
        self.q.wheres.push(w);
        self
    }

    pub fn follow_id_eq (&mut self, val: u32 ) -> &mut Self {
        let w = WhereClause{
            condition: " follow_id = ?".to_string(),
            args: val.into(),
        };
        self.q.wheres.push(w);
        self
    }

    pub fn follow_id_lt (&mut self, val: u32 ) -> &mut Self {
        let w = WhereClause{
            condition: " follow_id < ?".to_string(),
            args: val.into(),
        };
        self.q.wheres.push(w);
        self
    }

    pub fn follow_id_le (&mut self, val: u32 ) -> &mut Self {
        let w = WhereClause{
            condition: " follow_id <= ?".to_string(),
            args: val.into(),
        };
        self.q.wheres.push(w);
        self
    }

    pub fn follow_id_gt (&mut self, val: u32 ) -> &mut Self {
        let w = WhereClause{
            condition: " follow_id > ?".to_string(),
            args: val.into(),
        };
        self.q.wheres.push(w);
        self
    }

    pub fn follow_id_ge (&mut self, val: u32 ) -> &mut Self {
        let w = WhereClause{
            condition: " follow_id >= ?".to_string(),
            args: val.into(),
        };
        self.q.wheres.push(w);
        self
    }

    pub fn and_follow_id_eq (&mut self, val: u32 ) -> &mut Self {
        let w = WhereClause{
            condition: "AND follow_id = ?".to_string(),
            args: val.into(),
        };
        self.q.wheres.push(w);
        self
    }

    pub fn and_follow_id_lt (&mut self, val: u32 ) -> &mut Self {
        let w = WhereClause{
            condition: "AND follow_id < ?".to_string(),
            args: val.into(),
        };
        self.q.wheres.push(w);
        self
    }

    pub fn and_follow_id_le (&mut self, val: u32 ) -> &mut Self {
        let w = WhereClause{
            condition: "AND follow_id <= ?".to_string(),
            args: val.into(),
        };
        self.q.wheres.push(w);
        self
    }

    pub fn and_follow_id_gt (&mut self, val: u32 ) -> &mut Self {
        let w = WhereClause{
            condition: "AND follow_id > ?".to_string(),
            args: val.into(),
        };
        self.q.wheres.push(w);
        self
    }

    pub fn and_follow_id_ge (&mut self, val: u32 ) -> &mut Self {
        let w = WhereClause{
            condition: "AND follow_id >= ?".to_string(),
            args: val.into(),
        };
        self.q.wheres.push(w);
        self
    }

    pub fn or_follow_id_eq (&mut self, val: u32 ) -> &mut Self {
        let w = WhereClause{
            condition: "OR follow_id = ?".to_string(),
            args: val.into(),
        };
        self.q.wheres.push(w);
        self
    }

    pub fn or_follow_id_lt (&mut self, val: u32 ) -> &mut Self {
        let w = WhereClause{
            condition: "OR follow_id < ?".to_string(),
            args: val.into(),
        };
        self.q.wheres.push(w);
        self
    }

    pub fn or_follow_id_le (&mut self, val: u32 ) -> &mut Self {
        let w = WhereClause{
            condition: "OR follow_id <= ?".to_string(),
            args: val.into(),
        };
        self.q.wheres.push(w);
        self
    }

    pub fn or_follow_id_gt (&mut self, val: u32 ) -> &mut Self {
        let w = WhereClause{
            condition: "OR follow_id > ?".to_string(),
            args: val.into(),
        };
        self.q.wheres.push(w);
        self
    }

    pub fn or_follow_id_ge (&mut self, val: u32 ) -> &mut Self {
        let w = WhereClause{
            condition: "OR follow_id >= ?".to_string(),
            args: val.into(),
        };
        self.q.wheres.push(w);
        self
    }

    
    pub fn profile_cid_in (&mut self, val: Vec<u32> ) -> &mut Self {
		let len = val.len();
        if len == 0 {
            return self
        }

        let mut marks = "?,".repeat(len);
        marks.remove(marks.len()-1);

		let arr = val.iter().map(|v|v.into()).collect();

        let w = WhereInClause{
			condition: format!(" profile_cid IN ({})", marks),
            args: arr,
        };
        self.q.wheres_ins.push(w);
        self
    }

    pub fn and_profile_cid_in (&mut self, val: Vec<u32> ) -> &mut Self {
		let len = val.len();
        if len == 0 {
            return self
        }

        let mut marks = "?,".repeat(len);
        marks.remove(marks.len()-1);

		let arr = val.iter().map(|v|v.into()).collect();

        let w = WhereInClause{
			condition: format!("AND profile_cid IN ({})", marks),
            args: arr,
        };
        self.q.wheres_ins.push(w);
        self
    }

    pub fn or_profile_cid_in (&mut self, val: Vec<u32> ) -> &mut Self {
		let len = val.len();
        if len == 0 {
            return self
        }

        let mut marks = "?,".repeat(len);
        marks.remove(marks.len()-1);

		let arr = val.iter().map(|v|v.into()).collect();

        let w = WhereInClause{
			condition: format!("OR profile_cid IN ({})", marks),
            args: arr,
        };
        self.q.wheres_ins.push(w);
        self
    }

    pub fn channel_cid_in (&mut self, val: Vec<u32> ) -> &mut Self {
		let len = val.len();
        if len == 0 {
            return self
        }

        let mut marks = "?,".repeat(len);
        marks.remove(marks.len()-1);

		let arr = val.iter().map(|v|v.into()).collect();

        let w = WhereInClause{
			condition: format!(" channel_cid IN ({})", marks),
            args: arr,
        };
        self.q.wheres_ins.push(w);
        self
    }

    pub fn and_channel_cid_in (&mut self, val: Vec<u32> ) -> &mut Self {
		let len = val.len();
        if len == 0 {
            return self
        }

        let mut marks = "?,".repeat(len);
        marks.remove(marks.len()-1);

		let arr = val.iter().map(|v|v.into()).collect();

        let w = WhereInClause{
			condition: format!("AND channel_cid IN ({})", marks),
            args: arr,
        };
        self.q.wheres_ins.push(w);
        self
    }

    pub fn or_channel_cid_in (&mut self, val: Vec<u32> ) -> &mut Self {
		let len = val.len();
        if len == 0 {
            return self
        }

        let mut marks = "?,".repeat(len);
        marks.remove(marks.len()-1);

		let arr = val.iter().map(|v|v.into()).collect();

        let w = WhereInClause{
			condition: format!("OR channel_cid IN ({})", marks),
            args: arr,
        };
        self.q.wheres_ins.push(w);
        self
    }

    pub fn created_time_in (&mut self, val: Vec<u32> ) -> &mut Self {
		let len = val.len();
        if len == 0 {
            return self
        }

        let mut marks = "?,".repeat(len);
        marks.remove(marks.len()-1);

		let arr = val.iter().map(|v|v.into()).collect();

        let w = WhereInClause{
			condition: format!(" created_time IN ({})", marks),
            args: arr,
        };
        self.q.wheres_ins.push(w);
        self
    }

    pub fn and_created_time_in (&mut self, val: Vec<u32> ) -> &mut Self {
		let len = val.len();
        if len == 0 {
            return self
        }

        let mut marks = "?,".repeat(len);
        marks.remove(marks.len()-1);

		let arr = val.iter().map(|v|v.into()).collect();

        let w = WhereInClause{
			condition: format!("AND created_time IN ({})", marks),
            args: arr,
        };
        self.q.wheres_ins.push(w);
        self
    }

    pub fn or_created_time_in (&mut self, val: Vec<u32> ) -> &mut Self {
		let len = val.len();
        if len == 0 {
            return self
        }

        let mut marks = "?,".repeat(len);
        marks.remove(marks.len()-1);

		let arr = val.iter().map(|v|v.into()).collect();

        let w = WhereInClause{
			condition: format!("OR created_time IN ({})", marks),
            args: arr,
        };
        self.q.wheres_ins.push(w);
        self
    }

    pub fn follow_id_in (&mut self, val: Vec<u32> ) -> &mut Self {
		let len = val.len();
        if len == 0 {
            return self
        }

        let mut marks = "?,".repeat(len);
        marks.remove(marks.len()-1);

		let arr = val.iter().map(|v|v.into()).collect();

        let w = WhereInClause{
			condition: format!(" follow_id IN ({})", marks),
            args: arr,
        };
        self.q.wheres_ins.push(w);
        self
    }

    pub fn and_follow_id_in (&mut self, val: Vec<u32> ) -> &mut Self {
		let len = val.len();
        if len == 0 {
            return self
        }

        let mut marks = "?,".repeat(len);
        marks.remove(marks.len()-1);

		let arr = val.iter().map(|v|v.into()).collect();

        let w = WhereInClause{
			condition: format!("AND follow_id IN ({})", marks),
            args: arr,
        };
        self.q.wheres_ins.push(w);
        self
    }

    pub fn or_follow_id_in (&mut self, val: Vec<u32> ) -> &mut Self {
		let len = val.len();
        if len == 0 {
            return self
        }

        let mut marks = "?,".repeat(len);
        marks.remove(marks.len()-1);

		let arr = val.iter().map(|v|v.into()).collect();

        let w = WhereInClause{
			condition: format!("OR follow_id IN ({})", marks),
            args: arr,
        };
        self.q.wheres_ins.push(w);
        self
    }

}

pub async fn channel_follower_mass_insert(arr :&Vec<ChannelFollower>, spool: &SPool) -> Result<(),MyError> {
    let mut conn = spool.pool.get_conn().await?;
    if arr.len() == 0 {
        return Err(MyError::EmptySql)
    }
    let mut insert_fields = "(profile_cid, channel_cid, created_time)";

    let mut vals_str = "(?, ?, ?), ".repeat(arr.len());
   
    let vals_str = &vals_str[0..(vals_str.len()-2)];

    let query = format!(r"INSERT INTO {:}.tweet {:} VALUES {:}", &spool.database, insert_fields, vals_str);

    let mut arr_vals = vec![];
    for ar in arr {
                arr_vals.push(ar.profile_cid.clone().into());
                arr_vals.push(ar.channel_cid.clone().into());
                arr_vals.push(ar.created_time.clone().into());
                
       }

    let p = Params::Positional(arr_vals);

    println!("{} - {:?}", &query, &p);

    let qr = conn.exec_iter(
        query, p
    ).await?;

    Ok(())
}

// Index
pub async fn follow_id(follow_id: u32, spool: &SPool) -> Result<Vec<ChannelFollower>,MyError> {
	let m = ChannelFollowerSelector::new()
		.follow_id_eq(follow_id)
		.get_rows(spool).await?;
	Ok(m)
}

pub async fn get_channel_follower(profile_cid: u32,channel_cid: u32, spool: &SPool) -> Result<ChannelFollower,MyError> {
	let m = ChannelFollowerSelector::new()
		.profile_cid_eq(profile_cid)
		.and_channel_cid_eq(channel_cid)
		.get_row(spool).await?;
	Ok(m)
}
